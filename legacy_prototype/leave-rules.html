<!DOCTYPE html>
<html class="light" lang="en">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>Leave Rules - Admin Portal</title>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet" />
    <style>
        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 6px;
            height: 6px;
        }

        ::-webkit-scrollbar-track {
            background: transparent;
        }

        ::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 999px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }

        /* Smooth transitions */
        * {
            transition-property: background-color, border-color, color, fill, stroke, opacity, box-shadow, transform;
            transition-duration: 200ms;
        }

        /* Drawer Styles */
        .drawer-overlay {
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }

        .drawer-overlay.open {
            opacity: 1;
            pointer-events: auto;
        }

        .drawer {
            transform: translateX(100%);
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .drawer.open {
            transform: translateX(0);
        }

        /* Tab Styles */
        .tab-btn.active {
            color: #0f4c81;
            border-bottom-color: #0f4c81;
            background-color: rgba(15, 76, 129, 0.05);
        }

        .dark .tab-btn.active {
            color: #3a7bd5;
            border-bottom-color: #3a7bd5;
            background-color: rgba(58, 123, 213, 0.1);
        }
    </style>
    <script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        primary: {
                            DEFAULT: "#0f4c81",
                            dark: "#0a365c",
                            light: "#3a7bd5",
                            subtle: "#e0eaf5"
                        },
                        "background-light": "#f3f4f6",
                        "background-dark": "#121212",
                    },
                    fontFamily: {
                        "display": ["Inter", "sans-serif"]
                    },
                    borderRadius: {
                        "xl": "1rem",
                        "2xl": "1.5rem",
                        "3xl": "2rem",
                        "full": "9999px"
                    },
                    boxShadow: {
                        'soft': '0 4px 20px -2px rgba(0, 0, 0, 0.05)',
                    }
                },
            },
        }
    </script>
</head>

<body
    class="bg-background-light dark:bg-background-dark font-display text-gray-800 dark:text-gray-200 antialiased selection:bg-primary selection:text-white">
    <div class="relative flex min-h-screen w-full flex-col group/design-root overflow-x-hidden">
        <div class="flex flex-row min-h-screen">
            <!-- SideNavBar -->
            <aside
                class="w-72 flex-shrink-0 bg-white dark:bg-zinc-900 p-6 flex flex-col justify-between border-r border-gray-100 dark:border-zinc-800 hidden lg:flex h-screen z-10 sticky top-0">
                <div class="flex flex-col gap-10">
                    <!-- Brand -->
                    <div class="flex gap-4 items-center px-2">
                        <div class="flex items-center justify-center size-10 rounded-xl bg-primary text-white">
                            <i data-lucide="layout-grid" class="size-6"></i>
                        </div>
                        <div class="flex flex-col">
                            <h1 class="text-gray-900 dark:text-white text-lg font-bold leading-none tracking-tight">
                                Admin Portal</h1>
                            <p class="text-gray-400 dark:text-gray-500 text-xs font-medium mt-1">Employment Types System
                            </p>
                        </div>
                    </div>
                    <!-- Navigation -->
                    <nav class="flex flex-col gap-1">
                        <a class="flex items-center gap-3 px-4 py-2 rounded-full hover:bg-gray-50 dark:hover:bg-zinc-800 text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-all group"
                            href="./dashboard.html">
                            <i data-lucide="layout-dashboard" class="size-5"></i>
                            <p class="text-sm font-medium">Dashboard</p>
                        </a>
                        <a class="flex items-center gap-3 px-4 py-2 rounded-full hover:bg-gray-50 dark:hover:bg-zinc-800 text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-all group"
                            href="./accounts.html">
                            <i data-lucide="users" class="size-5"></i>
                            <p class="text-sm font-medium">Accounts</p>
                        </a>
                        <a class="flex items-center gap-3 px-4 py-2 rounded-full hover:bg-gray-50 dark:hover:bg-zinc-800 text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-all group"
                            href="./employment-types.html">
                            <i data-lucide="calendar" class="size-5"></i>
                            <p class="text-sm font-medium">Employment Types</p>
                        </a>
                        <a class="flex items-center gap-3 px-4 py-2 rounded-full hover:bg-gray-50 dark:hover:bg-zinc-800 text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-all group"
                            href="./leave-types.html">
                            <i data-lucide="settings" class="size-5"></i>
                            <p class="text-sm font-medium">Leave Types</p>
                        </a>
                        <!-- Active Item -->
                        <a class="flex items-center gap-3 px-4 py-2 rounded-full bg-primary/10 text-primary dark:bg-primary/20 dark:text-blue-200 transition-all"
                            href="./leave-rules.html">
                            <i data-lucide="settings-2" class="size-5"></i>
                            <p class="text-sm font-bold">Leave Rules</p>
                        </a>
                        <a class="flex items-center gap-3 px-4 py-2 rounded-full hover:bg-gray-50 dark:hover:bg-zinc-800 text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-all group"
                            href="./helpCenter.html">
                            <i data-lucide="circle-help" class="size-5"></i>
                            <p class="text-sm font-medium">Help &amp; Support</p>
                        </a>
                    </nav>
                </div>
                <!-- Footer Nav -->
                <div>
                    <div class="flex flex gap-3">
                        <div
                            class="size-12 rounded-full overflow-hidden border-2 border-white dark:border-zinc-800 cursor-pointer hover:scale-105 transition-transform">
                            <img src="https://media.licdn.com/dms/image/v2/C4E0BAQG0sUKoTGt7gQ/company-logo_100_100/company-logo_100_100/0/1630605791837?e=1766016000&v=beta&t=7ZQBJ5PvGvzlQbGQEA-LTmVi0OMHRL1gafacOfZa35E"
                                alt="Avatar" class="w-full h-full object-cover">
                        </div>
                        <a class="flex items-center gap-3 px-4 py-3 rounded-full hover:bg-red-50 dark:hover:bg-red-900/10 text-gray-500 dark:text-gray-400 hover:text-red-600 dark:hover:text-red-400 transition-all"
                            href="#">
                            <i data-lucide="log-out" class="size-4"></i>
                            <p class="text-sm font-medium">Log Out</p>
                        </a>
                    </div>
                </div>
            </aside>
            <!-- Main Content -->
            <main class="flex-1 p-6 lg:p-10 mx-auto w-full h-screen overflow-y-auto">

                <!-- Header -->
                <div class="flex flex-col gap-6 mb-10">
                    <div>
                        <h1 class="text-gray-900 dark:text-white text-3xl font-bold tracking-tight">Leave Rules</h1>
                        <p class="text-gray-500 dark:text-gray-400 text-sm mt-1">Define complex calculation logic for
                            leave accruals and usage.</p>
                    </div>

                    <!-- Dual Filter -->
                    <div
                        class="flex flex-col md:flex-row gap-4 p-4 bg-white dark:bg-zinc-900 rounded-2xl border border-gray-100 dark:border-zinc-800 shadow-sm">
                        <div class="flex-1">
                            <label class="block text-xs font-medium text-gray-500 mb-1 ml-1">Account</label>
                            <div class="relative">
                                <select id="accountSelect" onchange="checkFilters()"
                                    class="w-full pl-4 pr-10 py-2.5 bg-gray-50 dark:bg-zinc-800 border-none rounded-xl text-sm font-medium focus:ring-2 focus:ring-primary outline-none appearance-none cursor-pointer">
                                    <option value="" disabled selected>Select Account...</option>
                                    <option value="acme">BlueSky Creation</option>
                                    <option value="globex">Globex Corporation</option>
                                </select>
                                <i data-lucide="chevron-down"
                                    class="absolute right-4 top-1/2 -translate-y-1/2 size-4 text-gray-400 pointer-events-none"></i>
                            </div>
                        </div>

                        <div class="flex-1">
                            <label class="block text-xs font-medium text-gray-500 mb-1 ml-1">Leave Type</label>
                            <div class="relative">
                                <select id="leaveTypeSelect" onchange="checkFilters()"
                                    class="w-full pl-4 pr-10 py-2.5 bg-gray-50 dark:bg-zinc-800 border-none rounded-xl text-sm font-medium focus:ring-2 focus:ring-primary outline-none appearance-none cursor-pointer">
                                    <option value="" disabled selected>Select Leave Type...</option>
                                    <option value="annual">Annual Leave</option>
                                    <option value="sick">Sick Leave</option>
                                    <option value="lsl">Long Service Leave</option>
                                </select>
                                <i data-lucide="chevron-down"
                                    class="absolute right-4 top-1/2 -translate-y-1/2 size-4 text-gray-400 pointer-events-none"></i>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Empty State -->
                <div id="emptyState" class="flex flex-col items-center justify-center py-20 text-center">
                    <div
                        class="size-20 bg-gray-500/10 dark:bg-zinc-800 rounded-full flex items-center justify-center mb-4">
                        <i data-lucide="filter" class="size-10 text-gray-400"></i>
                    </div>
                    <h3 class="text-lg font-semibold text-gray-900 dark:text-white">Select Filters</h3>
                    <p class="text-gray-500 max-w-sm mt-2">Please select both an Account and a Leave Type to view the
                        configuration rules.</p>
                </div>
                <!-- Rules List (Hidden initially) -->
                <div id="rulesList" class="hidden space-y-4">
                    <!-- Rule Card 1 -->
                    <div onclick="openDrawer('Full-Time Accrual')"
                        class="group flex items-center justify-between p-6 bg-white dark:bg-zinc-900 rounded-2xl border border-gray-100 dark:border-zinc-800 hover:border-primary/50 hover:shadow-soft transition-all cursor-pointer">
                        <div class="flex items-center gap-4">
                            <div
                                class="size-12 rounded-xl bg-blue-50 dark:bg-blue-900/20 flex items-center justify-center text-blue-600 dark:text-blue-400">
                                <i data-lucide="calculator" class="size-6"></i>
                            </div>
                            <div>
                                <h3 class="font-bold text-gray-900 dark:text-white">Full-Time Accrual Rule</h3>
                                <p class="text-sm text-gray-500">Standard 4 weeks per year accrual logic</p>
                            </div>
                        </div>
                        <div class="flex items-center gap-4">
                            <span
                                class="px-3 py-1 rounded-full text-xs font-bold bg-green-500/10 text-green-600 dark:bg-green-900/20 dark:text-green-400">Active</span>
                            <i data-lucide="chevron-right"
                                class="size-5 text-gray-400 group-hover:text-primary transition-colors"></i>
                        </div>
                    </div>
                    <!-- Rule Card 2 -->
                    <div onclick="openDrawer('Part-Time Pro-Rata')"
                        class="group flex items-center justify-between p-6 bg-white dark:bg-zinc-900 rounded-2xl border border-gray-100 dark:border-zinc-800 hover:border-primary/50 hover:shadow-soft transition-all cursor-pointer">
                        <div class="flex items-center gap-4">
                            <div
                                class="size-12 rounded-xl bg-purple-50 dark:bg-purple-900/20 flex items-center justify-center text-purple-600 dark:text-purple-400">
                                <i data-lucide="percent" class="size-6"></i>
                            </div>
                            <div>
                                <h3 class="font-bold text-gray-900 dark:text-white">Part-Time Pro-Rata</h3>
                                <p class="text-sm text-gray-500">Pro-rated based on ordinary hours worked</p>
                            </div>
                        </div>
                        <div class="flex items-center gap-4">
                            <span
                                class="px-3 py-1 rounded-full text-xs font-bold bg-green-500/10 text-green-600 dark:bg-green-900/20 dark:text-green-400">Active</span>
                            <i data-lucide="chevron-right"
                                class="size-5 text-gray-400 group-hover:text-primary transition-colors"></i>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>
    <!-- Drawer Overlay -->
    <div id="drawerOverlay" class="fixed inset-0 bg-black/20 backdrop-blur-sm z-40 drawer-overlay"
        onclick="closeDrawer()"></div>
    <!-- Massive Drawer -->
    <div id="drawer"
        class="fixed top-0 right-0 h-full w-full md:w-[800px] bg-white dark:bg-zinc-900 shadow-2xl z-50 drawer flex flex-col">
        <!-- Drawer Header -->
        <div
            class="p-6 border-b border-gray-100 dark:border-zinc-800 flex items-center justify-between bg-gray-50/50 dark:bg-zinc-900/50">
            <div>
                <h2 class="text-xl font-bold text-gray-900 dark:text-white">Configure Rule Logic</h2>
                <p class="text-sm text-gray-500">Advanced calculation parameters.</p>
            </div>
            <button onclick="closeDrawer()"
                class="p-2 hover:bg-gray-500/10 dark:hover:bg-zinc-800 rounded-full transition-colors">
                <i data-lucide="x" class="size-5 text-gray-500"></i>
            </button>
        </div>
        <!-- Scrollable Tabs Container -->
        <div class="border-b border-gray-100 dark:border-zinc-800 overflow-x-auto">
            <div class="flex min-w-max px-6">
                <button onclick="switchTab('accrual')" id="tab-accrual"
                    class="tab-btn active px-4 py-3 text-sm font-medium text-gray-500 border-b-2 border-transparent hover:text-gray-700 dark:hover:text-gray-300 transition-colors">Accrual</button>
                <button onclick="switchTab('evidence')" id="tab-evidence"
                    class="tab-btn px-4 py-3 text-sm font-medium text-gray-500 border-b-2 border-transparent hover:text-gray-700 dark:hover:text-gray-300 transition-colors">Evidence</button>
                <button onclick="switchTab('cashout')" id="tab-cashout"
                    class="tab-btn px-4 py-3 text-sm font-medium text-gray-500 border-b-2 border-transparent hover:text-gray-700 dark:hover:text-gray-300 transition-colors">Cashout/Advance</button>
                <button onclick="switchTab('limits')" id="tab-limits"
                    class="tab-btn px-4 py-3 text-sm font-medium text-gray-500 border-b-2 border-transparent hover:text-gray-700 dark:hover:text-gray-300 transition-colors">Limits
                    & Caps</button>
                <button onclick="switchTab('meta')" id="tab-meta"
                    class="tab-btn px-4 py-3 text-sm font-medium text-gray-500 border-b-2 border-transparent hover:text-gray-700 dark:hover:text-gray-300 transition-colors">Meta
                    Data</button>
            </div>
        </div>
        <!-- Drawer Content -->
        <div class="flex-1 overflow-y-auto p-6 bg-gray-50/30 dark:bg-zinc-900/30">

            <!-- Tab: Accrual -->
            <div id="content-accrual" class="space-y-6 tab-content">
                <div
                    class="bg-white dark:bg-zinc-900 p-6 rounded-2xl border border-gray-100 dark:border-zinc-800 shadow-sm">
                    <h3 class="text-sm font-bold text-gray-900 dark:text-white uppercase tracking-wider mb-4">Accrual
                        Method</h3>

                    <div class="space-y-4">
                        <div class="flex items-center gap-3">
                            <input type="radio" name="accrual_method" id="per_hour"
                                class="size-4 text-primary focus:ring-primary border-gray-300" checked>
                            <label for="per_hour" class="text-sm font-medium text-gray-700 dark:text-gray-300">Accrue
                                per hour worked</label>
                        </div>
                        <div class="flex items-center gap-3">
                            <input type="radio" name="accrual_method" id="fixed"
                                class="size-4 text-primary focus:ring-primary border-gray-300">
                            <label for="fixed" class="text-sm font-medium text-gray-700 dark:text-gray-300">Fixed amount
                                per period</label>
                        </div>
                    </div>
                    <div class="mt-6">
                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5">Accrual Rate
                            (Hours per Hour Worked)</label>
                        <input type="number" value="0.0769"
                            class="w-full px-4 py-2.5 bg-gray-50 dark:bg-zinc-800 border border-gray-200 dark:border-zinc-700 rounded-xl text-sm focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all">
                        <p class="text-xs text-gray-500 mt-1">Example: 0.0769 for 4 weeks annual leave based on 38h
                            week.</p>
                    </div>
                </div>
            </div>
            <!-- Tab: Evidence -->
            <div id="content-evidence" class="space-y-6 tab-content hidden">
                <div
                    class="bg-white dark:bg-zinc-900 p-6 rounded-2xl border border-gray-100 dark:border-zinc-800 shadow-sm">
                    <h3 class="text-sm font-bold text-gray-900 dark:text-white uppercase tracking-wider mb-4">
                        Certificate Requirements</h3>

                    <div class="flex items-center justify-between mb-6">
                        <div>
                            <p class="font-semibold text-gray-900 dark:text-white">Require Medical Certificate</p>
                            <p class="text-xs text-gray-500">For sick leave applications</p>
                        </div>
                        <label class="relative inline-flex items-center cursor-pointer">
                            <input type="checkbox" checked class="sr-only peer">
                            <div
                                class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary/20 rounded-full peer dark:bg-zinc-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary">
                            </div>
                        </label>
                    </div>
                    <div class="grid grid-cols-2 gap-4">
                        <div class="p-4 rounded-xl border-2 border-primary bg-primary/5 cursor-pointer">
                            <p class="font-bold text-primary">Strict</p>
                            <p class="text-xs text-gray-500 mt-1">Block application without evidence</p>
                        </div>
                        <div
                            class="p-4 rounded-xl border border-gray-200 dark:border-zinc-700 hover:border-gray-300 cursor-pointer">
                            <p class="font-bold text-gray-700 dark:text-gray-300">Warn Only</p>
                            <p class="text-xs text-gray-500 mt-1">Allow application with warning</p>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Tab: Cashout -->
            <div id="content-cashout" class="space-y-6 tab-content hidden">
                <div
                    class="bg-white dark:bg-zinc-900 p-6 rounded-2xl border border-gray-100 dark:border-zinc-800 shadow-sm">
                    <h3 class="text-sm font-bold text-gray-900 dark:text-white uppercase tracking-wider mb-4">Cashout
                        Rules</h3>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5">Max Cashout
                                Hours (Per Year)</label>
                            <input type="number" value="76"
                                class="w-full px-4 py-2.5 bg-gray-50 dark:bg-zinc-800 border border-gray-200 dark:border-zinc-700 rounded-xl text-sm focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5">Min Balance
                                Retained</label>
                            <input type="number" value="76"
                                class="w-full px-4 py-2.5 bg-gray-50 dark:bg-zinc-800 border border-gray-200 dark:border-zinc-700 rounded-xl text-sm focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all">
                        </div>
                    </div>
                </div>
            </div>

            <!-- Other tabs placeholders -->
            <div id="content-limits" class="tab-content hidden">
                <div class="p-10 text-center text-gray-500">
                    <i data-lucide="shield-alert" class="size-10 mx-auto mb-3 opacity-50"></i>
                    <p>Limits configuration placeholder</p>
                </div>
            </div>
            <div id="content-meta" class="tab-content hidden">
                <div class="p-4 bg-gray-900 text-green-400 font-mono text-xs rounded-xl overflow-x-auto">
                    <pre>{
  "rule_id": "rule_123",
  "meta_version": "1.2",
  "fields": [
    "accrual_rate",
    "max_cap"
  ]
}</pre>
                </div>
            </div>
        </div>
        <!-- Drawer Footer -->
        <div class="p-6 border-t border-gray-100 dark:border-zinc-800 bg-gray-50/50 dark:bg-zinc-900/50 flex gap-3">
            <button onclick="closeDrawer()"
                class="flex-1 px-4 py-2.5 rounded-xl border border-gray-200 dark:border-zinc-700 text-gray-700 dark:text-gray-300 font-medium hover:bg-gray-50 dark:hover:bg-zinc-800 transition-colors">Cancel</button>
            <button onclick="closeDrawer()"
                class="flex-1 px-4 py-2.5 rounded-xl bg-primary text-white font-medium hover:bg-primary-dark transition-colors shadow-lg shadow-primary/20">Save
                Rule</button>
        </div>
    </div>
    <script>
        lucide.createIcons();
        function checkFilters() {
            const account = document.getElementById('accountSelect').value;
            const type = document.getElementById('leaveTypeSelect').value;
            const emptyState = document.getElementById('emptyState');
            const rulesList = document.getElementById('rulesList');
            if (account && type) {
                emptyState.classList.add('hidden');
                rulesList.classList.remove('hidden');
            }
        }
        function openDrawer(name) {
            document.getElementById('drawerOverlay').classList.add('open');
            document.getElementById('drawer').classList.add('open');
            switchTab('accrual');
        }
        function closeDrawer() {
            document.getElementById('drawerOverlay').classList.remove('open');
            document.getElementById('drawer').classList.remove('open');
        }
        function switchTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(el => el.classList.add('hidden'));
            document.querySelectorAll('.tab-btn').forEach(el => el.classList.remove('active'));
            document.getElementById(`content-${tabName}`).classList.remove('hidden');
            document.getElementById(`tab-${tabName}`).classList.add('active');
        }
    </script>
</body>

</html>